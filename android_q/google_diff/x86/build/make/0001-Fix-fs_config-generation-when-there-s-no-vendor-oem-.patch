From c6ed02e0bb2889eb64a739d266357bbcb453368b Mon Sep 17 00:00:00 2001
From: Michael Goffioul <michael.goffioul@lincor.com>
Date: Fri, 4 Oct 2019 20:08:41 -0400
Subject: [PATCH] Fix fs_config generation when there's no vendor/oem
 partitions

---
 tools/fs_config/fs_config_generator.py | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

diff --git a/tools/fs_config/fs_config_generator.py b/tools/fs_config/fs_config_generator.py
index 109b29a16..e7d99e66a 100755
--- a/tools/fs_config/fs_config_generator.py
+++ b/tools/fs_config/fs_config_generator.py
@@ -1133,12 +1133,11 @@ class FSConfigGen(BaseGenerator):
         path = fs_config.path
 
         if self._partition == 'system':
-            if not self._all_partitions:
-                return True
-            for skip_partition in self._all_partitions.split(','):
-                if path.startswith(skip_partition) or path.startswith(
-                        'system/' + skip_partition):
-                    return False
+			if self._all_partitions:
+				for skip_partition in self._all_partitions.split(','):
+					if path.startswith(skip_partition) or path.startswith(
+						'system/' + skip_partition):
+				return False
             return True
         else:
             if path.startswith(
-- 
2.17.1

