From affe9e2ac79ff6f3b3ba56497fdd654d9b7935d4 Mon Sep 17 00:00:00 2001
From: Chih-Wei Huang <cwhuang@linux.org.tw>
Date: Fri, 29 Jul 2016 19:49:58 +0800
Subject: [PATCH 17/35] init.rc: symlink /lib to /system/lib

Currently more linux drivers use request_firmware_nowait() to load
firmwares. It requires the firmwares exist in the standard path.

Create the symlink before ueventd started to ensure firmwares
could be loaded correctly.
---
 rootdir/init.rc | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/rootdir/init.rc b/rootdir/init.rc
index 2b1b3a4f58..ad1f1e85f4 100644
--- a/rootdir/init.rc
+++ b/rootdir/init.rc
@@ -38,6 +38,9 @@ on early-init
 
     mount debugfs /sys/kernel/debug /sys/kernel/debug mode=755
 
+    # for /lib/firmware
+    symlink system/lib /lib
+
     start ueventd
 
 on init
-- 
2.17.1

