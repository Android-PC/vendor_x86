From 2765c4fb77c59afa6864ffec4e79a3a0951de8d8 Mon Sep 17 00:00:00 2001
From: Chih-Wei Huang <cwhuang@linux.org.tw>
Date: Thu, 7 Mar 2019 15:13:31 -0500
Subject: [PATCH] nit.rc: symlink /lib to /system/lib

Currently more linux drivers use request_firmware_nowait() to load
firmwares. It requires the firmwares exist in the standard path.

Create the symlink before ueventd started to ensure firmwares
could be loaded correctly.

Change-Id: I9f7b79785b0678c9a7982e530892277b2e271894
---
 rootdir/init.rc | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/rootdir/init.rc b/rootdir/init.rc
index f97f9157e9..8d343de6b8 100644
--- a/rootdir/init.rc
+++ b/rootdir/init.rc
@@ -36,6 +36,9 @@ on early-init
     # cgroup for system_server and surfaceflinger
     mkdir /dev/memcg/system 0550 system system
 
+    # for /lib/firmware
+    symlink system/lib /lib
+
     start ueventd
 
 on init
-- 
2.17.1

