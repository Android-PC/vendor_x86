From 9bd425b50a3642e276035f59545ad4ea9f349d39 Mon Sep 17 00:00:00 2001
From: Chih-Wei Huang <cwhuang@linux.org.tw>
Date: Tue, 1 Feb 2011 15:47:03 +0800
Subject: [PATCH 32/32] init: change firmware_dirs for Android-x86

Conflicts:
	init/firmware_handler.cpp

Change-Id: I1f8cd005cc82084e60746a3682c5cd0daf2cd798
---
 init/firmware_handler.cpp | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/init/firmware_handler.cpp b/init/firmware_handler.cpp
index 28bda34a25..b4b6a3e64f 100644
--- a/init/firmware_handler.cpp
+++ b/init/firmware_handler.cpp
@@ -78,6 +78,13 @@ static void ProcessFirmwareEvent(const Uevent& uevent) {
         PLOG(ERROR) << "couldn't open firmware data fd for " << uevent.firmware;
         return;
     }
+    
+#if defined(__i386__) || defined(__x86_64__)
+    static const char *firmware_dirs[] = { "/system/lib/firmware" };
+#else
+    static const char* firmware_dirs[] = {"/etc/firmware/", "/odm/firmware/",
+                                          "/vendor/firmware/", "/firmware/image/"};
+#endif
 
 try_loading_again:
     for (const auto& firmware_directory : firmware_directories) {
-- 
2.17.1

